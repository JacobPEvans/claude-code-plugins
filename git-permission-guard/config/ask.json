{
  "description": "Commands requiring explicit user confirmation - potentially dangerous operations",
  "git": [
    {
      "cmd": "merge",
      "risk": "Can create merge commits or cause conflicts that require manual resolution",
      "safer": ["git fetch + git rebase (for linear history)", "git pull --rebase"]
    },
    {
      "cmd": "reset",
      "risk": "Can permanently lose uncommitted work and rewrite local history",
      "safer": ["git stash (saves changes temporarily)", "git reset --soft (keeps changes staged)", "git revert (preserves history)"]
    },
    {
      "cmd": "restore",
      "risk": "Can discard local changes permanently without recovery option",
      "safer": ["git stash (to save changes first)", "git diff (to review changes before discarding)"]
    },
    {
      "cmd": "rm",
      "risk": "Removes files from both working tree and git index",
      "safer": ["rm (regular delete, keeps in git)", "git restore (to recover if needed)"]
    },
    {
      "cmd": "cherry-pick",
      "risk": "Applies commits from other branches, can cause conflicts or duplicate commits",
      "safer": ["git merge (for bringing in full branch)", "git rebase (for replaying commits)"]
    },
    {
      "cmd": "worktree remove",
      "risk": "Removes the worktree directory and all uncommitted changes in it",
      "safer": ["Commit or stash changes first", "git worktree list (to verify correct worktree)"]
    },
    {
      "cmd": "gc",
      "risk": "Garbage collects and may remove unreferenced objects permanently",
      "safer": ["git gc --dry-run (preview only)", "Ensure important refs exist first"]
    },
    {
      "cmd": "prune",
      "risk": "Removes unreferenced objects permanently - cannot be undone",
      "safer": ["git prune --dry-run (preview only)", "git fsck (to check repository health first)"]
    },
    {
      "cmd": "rebase",
      "risk": "Rewrites commit history - dangerous if commits are already pushed",
      "safer": ["git merge (preserves history)", "git rebase -i (interactive, more control)"]
    },
    {
      "cmd": "commit --amend",
      "risk": "Rewrites the last commit - dangerous if already pushed",
      "safer": ["git commit (new commit)", "git revert (for fixing mistakes)"]
    },
    {
      "cmd": "push --force",
      "risk": "Overwrites remote history - can lose others' work permanently",
      "safer": ["git push --force-with-lease (safer, checks for others' changes)", "git push (normal push after resolving conflicts)"]
    },
    {
      "cmd": "push --force-with-lease",
      "risk": "Overwrites remote history - still destructive even with lease check",
      "safer": ["git push (normal push after resolving conflicts)", "Communicate with team before force pushing"]
    },
    {
      "cmd": "clean",
      "risk": "Removes untracked files permanently - cannot be recovered",
      "safer": ["git clean -n (dry run first)", "git stash -u (stash untracked files)"]
    }
  ],
  "gh": [
    {
      "cmd": "repo delete",
      "risk": "PERMANENTLY deletes a repository - this cannot be undone",
      "safer": ["Archive the repo instead (gh repo edit --visibility)", "Ensure you have local backups"]
    },
    {
      "cmd": "issue close",
      "risk": "Closes issues - could be accidental or premature",
      "safer": ["Add a comment explaining why", "Verify issue number before closing"]
    },
    {
      "cmd": "pr close",
      "risk": "Closes pull requests - work may be lost or harder to find",
      "safer": ["Add a comment explaining why", "Consider converting to draft instead"]
    },
    {
      "cmd": "pr merge",
      "risk": "Merges pull request - should only be done when explicitly requested by user",
      "safer": ["Review PR status and checks first", "Ensure all reviews are approved"],
      "note": "ONLY merge when user EXPLICITLY requests it"
    },
    {
      "cmd": "release delete",
      "risk": "Deletes releases permanently - users may depend on these",
      "safer": ["Mark as pre-release instead", "Ensure no dependencies on this release"]
    }
  ]
}
